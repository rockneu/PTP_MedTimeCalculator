<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medication Time Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 40px auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
        }
        
        input[type="time"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .button-group {
            text-align: center;
            margin: 30px 0;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .result {
            margin-top: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 5px;
            display: none;
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medication Time Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 40px auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
        }
        
        input[type="time"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .button-group {
            text-align: center;
            margin: 30px 0;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .result {
            margin-top: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 5px;
            display: none;
        }
        
        .result h2 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .medication-time {
            margin: 15px 0;
            padding: 15px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .medication-time .time {
            font-weight: bold;
            font-size: 18px;
            color: #3498db;
        }
        
        .medication-time .meal-hint {
            color: #27ae60;
            font-style: italic;
        }
        
        .meal-note {
            margin-top: 20px;
            padding: 15px;
            background-color: #e3f2fd;
            border-radius: 5px;
            color: #1976d2;
        }
        
        .meal-note strong {
            display: block;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Medication Time Calculator</h1>
        
        <div class="input-group">
            <label for="wakeUpTime">Wake Up Time:</label>
            <input type="time" id="wakeUpTime" value="07:00">
        </div>
        
        <div class="input-group">
            <label for="bedTime">Bed Time:</label>
            <input type="time" id="bedTime" value="22:00">
        </div>
        
        <div class="input-group">
            <label for="dosageCount">Number of Medications:</label>
            <input type="number" id="dosageCount" min="1" max="10" value="2">
        </div>
        
        <div class="button-group">
            <button onclick="calculateMedicationTimes()">Calculate Medication Times</button>
        </div>
        
        <div class="result" id="result">
            <h2>Your Medication Schedule:</h2>
            <div id="medicationTimes"></div>
            <div class="meal-note" id="mealNote"></div>
        </div>
    </div>

    <script>
        function calculateMedicationTimes() {
            const wakeUpTime = document.getElementById('wakeUpTime').value;
            const bedTime = document.getElementById('bedTime').value;
            const dosageCount = parseInt(document.getElementById('dosageCount').value);
            
            // Convert time to minutes
            const wakeUpMinutes = timeToMinutes(wakeUpTime);
            const bedTimeMinutes = timeToMinutes(bedTime);
            
            // Calculate total awake time in minutes
            let totalAwakeMinutes;
            if (bedTimeMinutes > wakeUpMinutes) {
                totalAwakeMinutes = bedTimeMinutes - wakeUpMinutes;
            } else {
                totalAwakeMinutes = (24 * 60 - wakeUpMinutes) + bedTimeMinutes;
            }
            
            // Calculate medication times based on dosage count
            const medicationTimes = [];
            
            if (dosageCount === 1) {
                // Single dose - after breakfast
                const breakfastTime = addMinutes(wakeUpTime, 60); // 1 hour after wake up
                alert(breakfastTime);
                console.log(breakfastTime);
                medicationTimes.push({
                    time: roundToNearestHalfHour(breakfastTime),
                    mealHint: "(after breakfast)"
                });
            } 
            else if (dosageCount === 2) {
                // Two doses - after breakfast and dinner
                const breakfastTime = addMinutes(wakeUpTime, 60); // 1 hour after wake up
                const dinnerTime = subtractMinutes(bedTime, 120); // 2 hours before bed
                
                medicationTimes.push({
                    time: roundToNearestHalfHour(breakfastTime),
                    mealHint: "(after breakfast)"
                });
                
                medicationTimes.push({
                    time: roundToNearestHalfHour(dinnerTime),
                    mealHint: "(after dinner)"
                });
            }
            else if (dosageCount === 3) {
                // Three doses - after breakfast, lunch and dinner
                const breakfastTime = addMinutes(wakeUpTime, 60); // 1 hour after wake up
                const lunchTime = calculateMiddleTime(breakfastTime, subtractMinutes(bedTime, 120));
                const dinnerTime = subtractMinutes(bedTime, 120); // 2 hours before bed
                
                medicationTimes.push({
                    time: roundToNearestHalfHour(breakfastTime),
                    mealHint: "(after breakfast)"
                });
                
                medicationTimes.push({
                    time: roundToNearestHalfHour(lunchTime),
                    mealHint: "(after lunch)"
                });
                
                medicationTimes.push({
                    time: roundToNearestHalfHour(dinnerTime),
                    mealHint: "(after dinner)"
                });
            }
            else {
                // More than 3 doses - distribute evenly
                const intervalMinutes = totalAwakeMinutes / (dosageCount + 1);
                
                for (let i = 1; i <= dosageCount; i++) {
                    const medicationTimeMinutes = wakeUpMinutes + (intervalMinutes * i);
                    const medicationTime = minutesToTime(medicationTimeMinutes);
                    medicationTimes.push({
                        time: roundToNearestHalfHour(medicationTime),
                        mealHint: ""
                    });
                }
            }
            
            // Display results
            displayResults(medicationTimes, dosageCount);
        }
        
        function timeToMinutes(time) {
            const [hours, minutes] = time.split(':').map(Number);
            return hours * 60 + minutes;
        }
        
        function minutesToTime(minutes) {
            const totalMinutes = minutes % (24 * 60);
            const hours = Math.floor(totalMinutes / 60);
            const mins = Math.floor(totalMinutes % 60);
            
            return `${String(hours).padStart(2, '0')}:${String(mins).padStart(2, '0')}`;
        }
        
        function addMinutes(time, minutesToAdd) {
            const [hours, minutes] = time.split(':').map(Number);
            const totalMinutes = (hours * 60 + minutes + minutesToAdd) % (24 * 60);
            return minutesToTime(totalMinutes);
        }
        
        function subtractMinutes(time, minutesToSubtract) {
            const [hours, minutes] = time.split(':').map(Number);
            const totalMinutes = (hours * 60 + minutes - minutesToSubtract + (24 * 60)) % (24 * 60);
            return minutesToTime(totalMinutes);
        }
        
        function calculateMiddleTime(time1, time2) {
            const minutes1 = timeToMinutes(time1);
            const minutes2 = timeToMinutes(time2);
            
            let middleMinutes;
            if (minutes2 >= minutes1) {
                middleMinutes = (minutes1 + minutes2) / 2;
            } else {
                // Handle overnight case
                middleMinutes = (minutes1 + (24 * 60 + minutes2)) / 2;
            }
            
            return minutesToTime(middleMinutes);
        }
        
        function roundToNearestHalfHour(time) {
            const minutes = timeToMinutes(time);
            const roundedMinutes = Math.round(minutes / 30) * 30;
            return minutesToTime(roundedMinutes);
        }
        
        function displayResults(times, dosageCount) {
            const resultDiv = document.getElementById('result');
            const timesDiv = document.getElementById('medicationTimes');
            const mealNote = document.getElementById('mealNote');
            
            timesDiv.innerHTML = '';
            
            // Sort times by time of day
            times.sort((a, b) => {
                const timeA = timeToMinutes(a.time);
                const timeB = timeToMinutes(b.time);
                return timeA - timeB;
            });
            
            times.forEach((item, index) => {
                const timeDiv = document.createElement('div');
                timeDiv.className = 'medication-time';
                timeDiv.innerHTML = `
                    <div>Medication ${index + 1}</div>
                    <div>
                        <span class="time">${item.time}</span>
                        ${item.mealHint ? `<span class="meal-hint">${item.mealHint}</span>` : ''}
                    </div>
                `;
                timesDiv.appendChild(timeDiv);
            });
            
            // Set meal note based on dosage count
            if (dosageCount === 1) {
                mealNote.innerHTML = `
                    <strong>Recommendation:</strong> Take this medication after breakfast for better absorption and to minimize potential stomach discomfort.
                `;
            } else if (dosageCount === 2) {
                mealNote.innerHTML = `
                    <strong>Recommendation:</strong> Take your medications after breakfast and dinner. This helps with absorption and maintains consistent medication levels in your body.
                `;
            } else if (dosageCount === 3) {
                mealNote.innerHTML = `
                    <strong>Recommendation:</strong> Take your medications after breakfast, lunch, and dinner. This three-dose schedule helps maintain stable medication levels throughout the day.
                `;
            } else {
                mealNote.innerHTML = `
                    <strong>Recommendation:</strong> Please take your medications at the scheduled times. For multiple doses, try to space them evenly throughout the day. Consider setting reminders to help you remember each dose.
                `;
            }
            
            resultDiv.style.display = 'block';
        }
    </script>
</body>
</html>
        }
        
        .result h2 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .medication-time {
            margin: 10px 0;
            padding: 10px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .meal-note {
            margin-top: 15px;
            padding: 10px;
            background-color: #e3f2fd;
            border-radius: 5px;
            color: #1976d2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Medication Time Calculator</h1>
        
        <div class="input-group">
            <label for="wakeUpTime">Wake Up Time:</label>
            <input type="time" id="wakeUpTime" value="07:00">
        </div>
        
        <div class="input-group">
            <label for="bedTime">Bed Time:</label>
            <input type="time" id="bedTime" value="22:00">
        </div>
        
        <div class="input-group">
            <label for="dosageCount">Number of Medications:</label>
            <input type="number" id="dosageCount" min="1" max="10" value="2">
        </div>
        
        <div class="button-group">
            <button onclick="calculateMedicationTimes()">Calculate Medication Times</button>
        </div>
        
        <div class="result" id="result">
            <h2>Your Medication Schedule:</h2>
            <div id="medicationTimes"></div>
            <div class="meal-note" id="mealNote"></div>
        </div>
    </div>

    <script>
        function calculateMedicationTimes() {
            const wakeUpTime = document.getElementById('wakeUpTime').value;
            const bedTime = document.getElementById('bedTime').value;
            const dosageCount = parseInt(document.getElementById('dosageCount').value);
            
            // Convert time to minutes
            const wakeUpMinutes = timeToMinutes(wakeUpTime);
            const bedTimeMinutes = timeToMinutes(bedTime);
            
            // Calculate total awake time in minutes
            let totalAwakeMinutes;
            if (bedTimeMinutes > wakeUpMinutes) {
                totalAwakeMinutes = bedTimeMinutes - wakeUpMinutes;
            } else {
                totalAwakeMinutes = (24 * 60 - wakeUpMinutes) + bedTimeMinutes;
            }
            
            // Calculate interval between medications
            const intervalMinutes = totalAwakeMinutes / (dosageCount + 1);
            
            // Calculate medication times
            const medicationTimes = [];
            for (let i = 1; i <= dosageCount; i++) {
                const medicationTimeMinutes = wakeUpMinutes + (intervalMinutes * i);
                const medicationTime = minutesToTime(medicationTimeMinutes);
                medicationTimes.push(medicationTime);
            }
            
            // Display results
            displayResults(medicationTimes, dosageCount);
        }
        
        function timeToMinutes(time) {
            const [hours, minutes] = time.split(':').map(Number);
            return hours * 60 + minutes;
        }
        
        function minutesToTime(minutes) {
            const totalMinutes = minutes % (24 * 60);
            const hours = Math.floor(totalMinutes / 60);
            const mins = Math.floor(totalMinutes % 60);
            
            // Round to nearest 30 minutes
            const roundedMins = Math.round(mins / 30) * 30;
            const adjustedHours = (hours + Math.floor(roundedMins / 60)) % 24;
            const adjustedMins = roundedMins % 60;
            
            return `${String(adjustedHours).padStart(2, '0')}:${String(adjustedMins).padStart(2, '0')}`;
        }
        
        function displayResults(times, dosageCount) {
            const resultDiv = document.getElementById('result');
            const timesDiv = document.getElementById('medicationTimes');
            const mealNote = document.getElementById('mealNote');
            
            timesDiv.innerHTML = '';
            
            times.forEach((time, index) => {
                const timeDiv = document.createElement('div');
                timeDiv.className = 'medication-time';
                timeDiv.textContent = `Medication ${index + 1}: ${time}`;
                timesDiv.appendChild(timeDiv);
            });
            
            if (dosageCount <= 3) {
                mealNote.innerHTML = '<strong>Note:</strong> For better absorption, it\'s recommended to take these medications after meals.';
            } else {
                mealNote.innerHTML = '<strong>Note:</strong> Please take your medications at the scheduled times. For multiple doses, try to space them evenly throughout the day.';
            }
            
            resultDiv.style.display = 'block';
        }
    </script>
</body>
</html>
